@inherits LayoutComponentBase
@inject NavigationManager NavigationManager

<MudLayout>
    <MudAppBar Elevation="1" Dense="true">
        <MudIconButton Icon="@Icons.Material.Filled.Code" Color="Color.Inherit" Edge="Edge.Start" />
        <MudText Typo="Typo.h6" Class="ml-2">Portfolio App</MudText>
        <MudSpacer />

        <MudIconButton Icon="@Icons.Material.Filled.Work" Color="Color.Inherit"
            Href="/projects" Class="ml-4">Projects</MudIconButton>
        <MudIconButton Icon="@Icons.Material.Filled.Psychology" Color="Color.Inherit"
            Href="/skills">Skills</MudIconButton>

        <MudSpacer />

        <MudIconButton Icon="@(_isDarkMode? Icons.Material.Filled.LightMode : Icons.Material.Filled.DarkMode)"
            Color="Color.Inherit" OnClick="ToggleTheme" />
        <MudIconButton Icon="@Icons.Material.Filled.Info" Color="Color.Inherit"
            Href="/about">About</MudIconButton>
        <MudIconButton Icon="@Icons.Material.Filled.Email" Color="Color.Inherit"
            Href="/contact">Contact</MudIconButton>
        <MudAvatar Color="Color.Secondary" Class="ml-2">JD</MudAvatar>
    </MudAppBar>

    <div class="page-content">
        @Body
    </div>

    <MudAppBar Bottom="true" Dense="true" Elevation="1" Class="footer">
        <MudText Typo="Typo.body2">© @DateTime.Now.Year - Portfolio App - Created with Blazor & MudBlazor</MudText>
        <MudSpacer />
        <MudIconButton Icon="@Icons.Custom.Brands.GitHub" Color="Color.Inherit" Link="https://github.com/"
            Target="_blank" />
        <MudIconButton Icon="@Icons.Custom.Brands.LinkedIn" Color="Color.Inherit" Link="https://linkedin.com/"
            Target="_blank" />
    </MudAppBar>
</MudLayout>

@code
{
    private bool _isDarkMode = false;

    [CascadingParameter]
    private App AppState { get; set; }

    private void ToggleTheme()
    {
        _isDarkMode = !_isDarkMode;
        if (AppState != null)
        {
            AppState.ToggleTheme();
        }
    }
}